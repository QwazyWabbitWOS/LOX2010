<html>
<head>
<title>Quake 2 LOX Mod - LOX Documenation</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<META name="description" content="Quake 2 LOX mod documentation and information.">
<META name="keywords" content="Quake 2, LOX, LOX mod, modification, documentation, LOX documentation, docs, readme">
<style type="text/css">
<!--
body 				{  font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; font-style: normal; line-height: normal; font-weight: normal; font-variant: normal; text-transform: none; color: #FFFFFF; text-decoration: none; background-attachment: fixed; background-color: #FFFFFF}
p,blockquote,li,ol,ul,td 	{  font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; font-style: normal; line-height: normal; font-weight: normal; font-variant: normal; text-transform: none; color: #000000; text-decoration: none}
a 				{  font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; font-style: normal; line-height: normal; font-weight: bold; font-variant: normal; text-transform: none; color: #999999; text-decoration: none}
a:hover 			{  font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; font-style: normal; line-height: normal; font-weight: bold; font-variant: normal; text-transform: none; color: #00CC33; text-decoration: underline overline}

-->
</style>
</head>
<body marginwidth="0" marginheight="0" leftmargin="0" topmargin="0" bgcolor="#FFFFFF">
<table border="0">
<tr><td>
<img src="images/loxdocmain2.gif" border="0">
</td>&nbsp;&nbsp;
<td valign="center" align="middle">
<img src="images/loxdocmain.gif" border="0">
</td>
</tr>
</table>
<table border="0" align="left">
<tr><td>
<b>Main Menu</b>:<br>
<hr width="15%" size="1" align="center" noshade>
<a href="index.htm">Home</a><br>
<a href="installation.htm">Installation</a><br><a href="modes.htm">Game Modes</a><br>
<a href="weapons.htm">Weapons</a><br>
<a href="features.htm">Features</a><br>
<a href="grenades.htm">Grenades</a><br>
<a href="angels.htm">Angels</a><br>
<a href="armour.htm">Armour</a><br>
<hr width="15%" size="1" align="center" noshade>
<a href="history.htm">History</a><br>
<a href="changelog.htm">Changelog</a><br>
<hr width="15%" size="1" align="center" noshade>
Server:<br>
<a href="server_win.htm">Windows</a><br>
<a href="server_linux.htm">Linux</a><br><a href="server_cvars.htm">Server Cvars</a><br><hr width="15%" size="1" align="center" noshade>Entities:<br><a href="ent.htm">.ent file How-To</a><br><a href="offworldtransport.htm">OffWorld Transport</a><br>
<hr width="15%" size="1" align="center" noshade>
</td>
<table width="80%" border="0" cellspacing="2" cellpadding="4" align="center">
  <tr> 
    <td colspan="2" valign="top">
	<img src="images/ent.jpg" width="230" height="195">
	</td>
    <td valign="top" width="100%">
      <b>ENT File How-To</b><br>
	<i>written by Deacon&lt;WOS&gt;</i>
<p>This method uses the latest version of LOX mod at the time of writing (version 1.12.8 Dec. 9 2005 build) utilizing the LOX .ent structure coded by Phlem. .ENT files tested on a Linux Quake 2 LOX Server, all work done on a Windows XP machine. This should also work on a Windows Quake 2 LOX Server that is using the latest LOX version 1.12.8.</p>

<ul><b>Step one</b> - <i>Entity Extraction</i></ul>

<p>In the first step we will extract the entity list from the map using entdump.exe. entdump is an entity listing tool created by R1Ch at http://www.r1ch.net You can download entdump below:</p>
<font color="#FF9900">
<a href="http://r-1.ch/entdump.exe">http://r-1.ch/entdump.exe</a>
</font>
<p>Next, create a working directory somewhere and copy the map you want to create an .ent file for and the entdump executable and place them both in your working area.</p>

<p>Open up a command prompt and navigate to your working directory with the map and entdump files. Using Win2K and XP the command is "cmd" to open up a command prompt, click Start -----> Run then type in "cmd" then click OK. then type change directory "cd" to your working area, ie:</p>
<font color="#FF9900">
cd \Quake2\working\
</font>
<p>Now that get entdump working and pull the entity list out of the map file by typing the following command:</p>
<font color="#FF9900">
entdump.exe mapname.bsp > mapname.ent
</font>
<p>The above command will output the entity list to the file mapname.ent. This will be the file you will edit for placing additional weapons, health packs, etc. On to step two...</p>

<ul><b>Step Two</b> – <i>Finding the Coordinates in the Map</i></ul>

<p>Now we need to find coordinates to place all these new items. Before you start make sure you have “set logfile 2” or “set logfile 3” in your autoexec.cfg. This will create a logfile that you will use later on to copy all the coordinates and paste then into your .ent file. Next, open up Quake2 and pull up the map you are working on. Now you will want to find places you want to place items and once you’ve found a spot to place something issue the command:</p>
<font color="#FF9900">
viewpos
</font>
<p>This will display the coordinates in a (x, y, z) format, such as -282 -3397 88. You will be placing these numbers into your .ent file later on. To make things a little easier, bind a key to “viewpos” so that you don’t have to pull down the console everytime you want to place coordinates, but what ever is easiest is my moto. Next, run around the map and find a spot to place something, then hit your “viewpos” bind, next LABEL what you want to place there by typing in a say message such as “RL” for rocketlauncher, or “HL1” for health kit large 1, etc. This makes it much easier, at least for me, when you open up your qconsole.log file later on for editing the .ent file. Onto the last step…Tally Hooo!!</p>

<ul><b>Step Three</b> - <i>Editing the .ENT File</i></ul>

<p>In the last step you will be editing the mapname.ent file to your liking and put in some new stuff with the coordinates you just got.</p>

<p>Open up mapname.ent with notepad.exe, the good ol' default windows text editor. If you still have the command prompt open you can issue the following command to start editing your file:</p>
<font color="#FF9900">
notepad.exe mapname.ent
</font>
<p>In this example we will be adding Rocket Launchers and Heath packs, but there are many things that you can add with a little research</p>

<p>The format to follow for adding an entity is the following:</p>

<pre>
{
"origin" "x1 y1 z1"
"angle" "degree"
"classname" "some_weapon"
}
</pre>

<p>For example, if you want to place a rocket launcher you would add the following:</p>

<pre>
{
"origin" "-986 -881 16"
"classname" "weapon_rocketlauncher"
}
</pre>

<p>For a Heath Pack you would add:</p>
<pre>
{
"origin" "-1944 -1304 -88"
"classname" "item_health_large"
}
</pre>

<p>Once you are finished adding items, check for spelling errors and proper code structure, then save the file.</p>

<p>All that’s left is upload your new .ent file to your server and place it in a directory named “entfiles” in the main Quake2 directory.</p>

<P>For example:</p>
<font color="#FF9900">
/user/quake2/entfiles
</font>

<p>or</p>

<font color="#FF9900">
C:\Quake2\entfiles
</font>
<p>Then pull up the map on the server and you should see something like this:</p>
<pre>
------- Server Initialization -------
Entity file santa.ent found
0 entities inhibited
0 teams with 0 entities
-------------------------------------
</pre>
  </tr>
</table>
<hr width="70%" size="1" align="center" noshade>
<table width="80%" border="0" cellspacing="0" cellpadding="4" align="center">
  <tr> 
    <td width="20%"></td>
    <td align="center" width="50%">Quake 2 LOX Docs. - <a href="http://www.clanwos.org">http://www.clanwos.org</a></td>
    <td align="right" width="20%"></td>
  </tr>
</table>
</tr>
</table>
</body>
</html>
